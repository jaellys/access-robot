<!DOCTYPE html><html><head>    <meta charset="utf-8">    <title>Mozi</title>    <link rel="stylesheet" type="text/css" href="blocklyAreaCSS.css">    <script src="blockly_compressed.js"></script>    <script src="blocks_compressed.js"></script>    <script src="bitlash_compressed.js"></script>    <script src="en.js"></script></head><body><table>    <tr>        <td id="blocklyArea">        </td>    </tr></table><div id="blocklyDiv" style="position: absolute"></div><xml id="toolbox" style="display: none">        <category name="1">            <block type="move_forward"></block>            <block type="move_backward"></block>            <block type="turn_left"></block>            <block type="turn_right"></block>            <block type="blink_left_light"></block>            <block type="blink_right_light"></block>        </category>        <category name="2">            <block type="controls_if"></block>            <block type="logic_compare"></block>            <block type="logic_operation"></block>            <block type="logic_negate"></block>        </category>        <category name="3">            <block type="base_delay"></block>            <block type="controls_for"></block>            <block type="controls_whileUntil"></block>        </category>        <category name="4">            <block type="math_number_digits"></block>            <block type="math_number_tens"></block>            <block type="math_arithmetic"></block>            </block>        </category>        <category name="5" custom="VARIABLE"></category>        <category name="6" custom="PROCEDURE"></category></xml><script>    var blocklyArea = document.getElementById('blocklyArea');    var blocklyDiv = document.getElementById('blocklyDiv');    var workspace = Blockly.inject(blocklyDiv,        {media: 'media/',         toolbox: document.getElementById('toolbox')});    var onresize = function(e) {      // Compute the absolute coordinates and dimensions of blocklyArea.      var element = blocklyArea;      var x = 0;      var y = 0;      do {        x += element.offsetLeft;        y += element.offsetTop;        element = element.offsetParent;      } while (element);      // Position blocklyDiv over blocklyArea.      blocklyDiv.style.left = x + 'px';      blocklyDiv.style.top = y + 'px';      blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';      blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';    };    window.addEventListener('resize', onresize, false);    onresize();   function runCode() {      // Generate Bitlash code and run it.      var code = Blockly.Bitlash.workspaceToCode(workspace);      try {        Android.talkToArduino(code);      } catch (e) {        alert(e);      }    }    <!--Functions for local backup and local restore. Used for rotation in future-->    function backup_blocks(){    var xml = Blockly.Xml.workspaceToDom(Blockly.mainWorkspace);    window.localStorage.setItem('data', Blockly.Xml.domToText(xml));    }    function restore_blocks(){        if(localStorage.data != null){            var xml = Blockly.Xml.textToDom(window.localStorage.getItem('data'));            Blockly.Xml.domToWorkspace(Blockly.mainWorkspace,xml);        }    }  </script></body></html>